<div class="companies-list-container">
  <div class="header">
    <h2>{{ 'COMPANIES.TITLE.LIST' | translate }}</h2>
    <button class="btn-primary" (click)="navigateToNew()">{{ 'COMPANIES.LIST.NEW_COMPANY' | translate }}</button>
  </div>

  <div class="filters" [formGroup]="filterForm">
    <div class="filter-row">
      <div class="filter-field">
        <app-input
          [control]="filterForm.get('name')"
          [options]="{
            type: 'text',
            label: 'COMPANIES.LIST.FILTERS.NAME',
            placeholder: 'COMPANIES.LIST.FILTERS.NAME_PLACEHOLDER',
            id: 'filter-name'
          }"
        ></app-input>
      </div>

      <div class="filter-field">
        <app-input
          [control]="filterForm.get('email')"
          [options]="{
            type: 'email',
            label: 'COMPANIES.LIST.FILTERS.EMAIL',
            placeholder: 'COMPANIES.LIST.FILTERS.EMAIL_PLACEHOLDER',
            id: 'filter-email'
          }"
        ></app-input>
      </div>

      <div class="filter-field">
        <app-select
          [control]="activeControl"
          [options]="{
            label: 'COMPANIES.LIST.FILTERS.STATUS',
            id: 'status-filter',
            options: [
              { value: null, label: 'COMPANIES.LIST.FILTERS.STATUS_ALL' },
              { value: true, label: 'COMPANIES.LIST.FILTERS.STATUS_ACTIVE' },
              { value: false, label: 'COMPANIES.LIST.FILTERS.STATUS_INACTIVE' }
            ]
          }"
        ></app-select>
      </div>

      <button class="btn-secondary" (click)="clearFilters()">
        {{ 'COMPANIES.LIST.FILTERS.CLEAR' | translate }}
      </button>
    </div>
  </div>

  <div class="loading-overlay" *ngIf="loading">
    <div class="spinner"></div>
  </div>

  <div class="companies-grid" *ngIf="!loading">
    <div class="no-data" *ngIf="companies.length === 0">
      <i class="fas fa-building"></i>
      <p>{{ 'COMPANIES.LIST.NO_DATA' | translate }}</p>
    </div>

    <div class="companies-list" *ngIf="companies.length > 0">
      <app-company-card
        *ngFor="let company of companies"
        [company]="company"
        (edit)="navigateToEdit($event)"
        (toggleStatus)="toggleStatus($event)"
      ></app-company-card>
    </div>
  </div>
</div>