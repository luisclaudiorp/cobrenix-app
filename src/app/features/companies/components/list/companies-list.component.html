<div class="companies-list-container">
  <div class="header">
    <h2>Empresas</h2>
    <button class="btn-primary" (click)="createCompany()">
      Nova Empresa
    </button>
  </div>

  <div class="filters" [formGroup]="filterForm">
    <div class="filter-row">
      <div class="filter-field">
        <label>Nome</label>
        <input type="text" formControlName="name" placeholder="Filtrar por nome">
      </div>

      <div class="filter-field">
        <label>Email</label>
        <input type="text" formControlName="email" placeholder="Filtrar por email">
      </div>

      <div class="filter-field">
        <label>Status</label>
        <select formControlName="active">
          <option [ngValue]="null">Todos</option>
          <option [ngValue]="true">Ativo</option>
          <option [ngValue]="false">Inativo</option>
        </select>
      </div>

      <button class="btn-secondary" (click)="clearFilters()">
        Limpar Filtros
      </button>
    </div>
  </div>

  <div class="loading-overlay" *ngIf="loading">
    <div class="spinner"></div>
  </div>

  <div class="companies-table" *ngIf="!loading">
    <table>
      <thead>
        <tr>
          <th>Nome</th>
          <th>Email</th>
          <th>Status</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let company of companies">
          <td>{{ company.name }}</td>
          <td>{{ company.email }}</td>
          <td>
            <span class="status-badge" [class.active]="company.active">
              {{ company.active ? 'Ativo' : 'Inativo' }}
            </span>
          </td>
          <td class="actions">
            <ng-container *ngIf="company.id">
              <button class="btn-icon" (click)="editCompany(company.id)">
                <i class="fas fa-edit"></i>
              </button>
              <button class="btn-icon delete" (click)="deleteCompany(company.id)">
                <i class="fas fa-trash"></i>
              </button>
            </ng-container>
          </td>
        </tr>
        <tr *ngIf="companies.length === 0">
          <td colspan="4" class="no-data">
            Nenhuma empresa encontrada
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>